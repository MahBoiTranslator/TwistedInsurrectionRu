# Как я переводил Twisted Insurrection 
## Предисловие 
Этот текс - это описание моих действий, которые я проделал, чтобы сделать руссификатор. Здесь будет описано как я делал перевод, что для этого использовал, что не было сделано, как можно улучшить руссификатор. Сделано это для того, если я заброшу поддержку актуальных локализаторов, то чтобы кто-нибудь продолжил моё дело. 

## Перевод английского текста 
Надо признать факт: мой уровень английского ниже среднего. С предложениями сложнее, чем в учебнике по английскому 10-11 класса, я не особо могу управится самостоятельно. Однако на дворе 21 век, и, как никак, есть большое количество онлайн переводчиков и онлайн словарей. В качестве вспомогательных приспособлений, т.е. переводчиков и словарей, я решил выбрать 2 переводчика и 1 словарь: Гугл переводчик, Яндекс переводчик, Мультитран. Почему такой выбор, а не другой? Всё очень просто! На мой взгляд, Яндекс и Гугл больше усилий тратят на создание переводчиков. Это даже доказывается тем, что некоторые предложения они переводят в точности, как я бы их перевёл, т.е. они иногда могут переводить "по-человечески". Мультитран же выбран из-за своей всеобъёмлимости. Среди огромного количества разных трактовок слова можно найти такую трактовку, которая будет наиболее полно и правильно соответствовать оригинальному тексту. Перевод предложений делался так: берём предложение, переводим как можем, сравниваем с переводом от переводчиков, уточняем значение слов в мультитране, записываем. 

## Перевод аббривиатур и имён собственных 
**GDI**, или же **Global Defense Iniative**. Много кто по разному переводил эту аббривеатуру, кто-то как **ГОИ**(Глобольная Оборонная Инициатива), кто-то как **ВОИ**(Всемирная Оборонная Инициатива), кто-то как **ГСБ**(Глобальный Совет Безопасности), а кто-то вообше как **ГДИ**(я хз как расшифровывается, да оно и не важно, ведь 95% любителей серии C&C ненавидят 4-ку, а оставшиеся 5% отборные говноеды). На мой взгляд, есть только 2 хороших перевода аббривиатуры. ВОИ - перевод "в лоб", а ГСБ - перевод "в глаз". Т.е. ВОИ - больше походит на перевод лишь текста, а ГСБ - больше походит на смысловой перевод. Именно поэтому я выбрал **ГСБ**. 

С Nod дела обстоят лучше. Nod - это просто Нод, ни каплей больше, ни каплей меньше. Кто считает, что NOD - это акроним, то давайте я вам его расшифрую: NOD - **NOD** is not fucking acronym, its **Obveusly Dumb**. Название Nod - это отсылка к землям Нод, т.е. к "землям Изгнания", куда по библии сослали Кайна после убийства его брата Авеля. 

GloboTech - ГлобоТ**э**к/ГлобоТ**е**к/ГлобоТ**ех**. Решил взять ГлобоТэк, т.к. также и на английском звучит. 

Owen, Carter, Sheppard переведены также, как и ГлобоТэк. 

## Переводимые/адаптируемые файлы 
Весь выводимый текст миссий лежит в файле ~/INI/**Tutorial.ini**, где тильда - это название папки с TI на вашем носителе. Его потом также лучше сохранить в одной из 8-битных кодировок, которые поддерживают кириллицу, такие как cp866, koi8r/u, windows-1251, т.к. движок TS не поддерживает Unicode. Я сохранил в windows-1251 по причине используемости в Windows. В ~/INI/**Battle.ini** также лежит текст, который вы видите в C&Cnet клиенте перед запуском игры, т.е. названия миссий и краткое описание. Вот его после перевода надо сохранять в utf-8 по причине, что весь клиент работает под utf-8 кодировкой. Очень настоятельно вам рекомендую помнить, что точка с запятой в ini-шниках, как и в коде на ассемблере - это комментарии. Переводить как я говорил выше, а где - это уже ваш выбор. Лично я переводил в Sublime Text 3, т.к. он воспринимает большое количество кодировок, удобен, и я с ним давно знаком. 

После того как вы перевели весь это текст у вас встаёт проблема: текст не выводится так, как должен это делать. Вся проблема заключается в том, что у вас не исправлен шрифт под вашу кодировку. Кириллицы изначально в шрифтах TS/TI нету. Для этого вы можете из файла ~/MIX/**local.mix** достать(extract) при помощи утилиты *XCC Mixer* файлы шрифтов, т.е. с расширением .fnt, и подправить их под кириллицу в соответствующей кодировке при помощи утилиты *WWFontEditor* (WW - это Westwood если что). Их потом можно также запихнуть обратно в local.mix по одному при помощи того же Mixer'а. Либо поступить проще и взять шрифты в виде ecache98.mix из локализатора для TS от Siberian GRemlin'а. Я так и сделал, правда дополнил буквой "ё", т.к. мой принцип прост - всегда пиши букву Ё, чтобы не было неразберих, и недопониманий, и СПГС. Если хотите, то можете его брать. Я думаю, что шрифт можно спокойно распространять под лицензией GNU GPL v.3 

Текст брифингов, увы, лежит в самих файлах этих миссий, и перевести их конечно можно, брифинги выводятся с шрифтом MS Sans Serif, а он кириллицу поддерживает и windows-1251 в частности, правда у вас запускаемая миссия из клиента будет выводится с дефектами. На момент написания этого текста (25.01.2019) эта проблема актуальна и не исправлена. После этого будет при запуске миссий будет появляться окно "cheater", т.к. файлы миссий были изменены. Это спокойно можно подправить, если в файл ~/Resources/**ClientDefinitions.ini** в секции *Settings* вставите **ModMode=True**. Однако вы не сможете обновить клиент, если не удалите эту строчку, т.к. она блочит обновление и проверку миссий на дату сборки. Кстати интересный факт: TI не поддерживает брифинги из **Mission.ini** и **Mission1.ini**, даже если вы туда их запишите так, как необходимо, и удалите их в файлах миссий, то они всё-равно не будут выводиться из этих файлов, хотя в дополнении Firestorm было такое реализовано. 

Внутриигровой интерфейс содержится в файле ~/Resources/language_800x600.dll и ~/Resources/language_1024x720.dll. Изменить текст в этих файлах можно при помощи ResourceHacker. Там всё просто. 

Изменить кнопки клиента гораздо сложнее. Там нужно изменять картинки, для которых в свою очередь нужно подобрать соответствующий шрифт, или найти наиболее похожий, а потом в графическом редакторе сделать кнопки похожими на оригинал. 

## Планы на будущее 
1. Выпросить у разработчиков TI шрифты для руссификации клиента 
2. Решить проблему с брифингами
